<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PlacesandPlaces: src/pl/mg6/android/maps/extensions/impl/MarkerManager.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7-20061004 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>src/pl/mg6/android/maps/extensions/impl/MarkerManager.java</h1><a href="_marker_manager_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 2013 Maciej GÃ³rski</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span>
<a name="l00005"></a>00005 <span class="comment"> * you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment"> * You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span>
<a name="l00012"></a>00012 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment"> * limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment"> */</span>
<a name="l00016"></a>00016 <span class="keyword">package </span>pl.mg6.android.maps.extensions.impl;
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">import</span> java.util.ArrayList;
<a name="l00019"></a>00019 <span class="keyword">import</span> java.util.HashMap;
<a name="l00020"></a>00020 <span class="keyword">import</span> java.util.Iterator;
<a name="l00021"></a>00021 <span class="keyword">import</span> java.util.List;
<a name="l00022"></a>00022 <span class="keyword">import</span> java.util.Map;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">import</span> pl.mg6.android.maps.extensions.AnimationSettings;
<a name="l00025"></a>00025 <span class="keyword">import</span> pl.mg6.android.maps.extensions.ClusteringSettings;
<a name="l00026"></a>00026 <span class="keyword">import</span> pl.mg6.android.maps.extensions.Marker;
<a name="l00027"></a>00027 <span class="keyword">import</span> pl.mg6.android.maps.extensions.MarkerOptions;
<a name="l00028"></a>00028 <span class="keyword">import</span> pl.mg6.android.maps.extensions.lazy.LazyMarker;
<a name="l00029"></a>00029 <span class="keyword">import</span> pl.mg6.android.maps.extensions.lazy.LazyMarker.OnMarkerCreateListener;
<a name="l00030"></a>00030 <span class="keyword">import</span> android.os.SystemClock;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">import</span> com.google.android.gms.maps.model.CameraPosition;
<a name="l00033"></a>00033 <span class="keyword">import</span> com.google.android.gms.maps.model.LatLng;
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html">00035</a> <span class="keyword">class </span><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html">MarkerManager</a> <span class="keyword">implements</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker_1_1_on_marker_create_listener.html">OnMarkerCreateListener</a> {
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">00037</a>         <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_i_google_map.html">IGoogleMap</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">00039</a>         <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;LazyMarker, DelegatingMarker&gt; <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>;
<a name="l00040"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">00040</a>         <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;com.google.android.gms.maps.model.Marker, <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a>&gt; <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">createdMarkers</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">00042</a>         <span class="keyword">private</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">markerShowingInfoWindow</a>;
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">00044</a>         <span class="keyword">private</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html">ClusteringSettings</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html">ClusteringSettings</a>().<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html#b19d7d1d0cf929b922058f020d343ce6">enabled</a>(<span class="keyword">false</span>);
<a name="l00045"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">00045</a>         <span class="keyword">private</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html">ClusteringStrategy</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_no_clustering_strategy.html">NoClusteringStrategy</a>(<span class="keyword">new</span> ArrayList&lt;DelegatingMarker&gt;());
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">00047</a>         <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html">MarkerAnimator</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html">MarkerAnimator</a>();
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#772b36c4086c6900e4826b22cb39de3b">00049</a>         <span class="keyword">public</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#772b36c4086c6900e4826b22cb39de3b">MarkerManager</a>(<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_i_google_map.html">IGoogleMap</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>) {
<a name="l00050"></a>00050                 <span class="keyword">this</span>.factory = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>;
<a name="l00051"></a>00051                 <span class="keyword">this</span>.markers = <span class="keyword">new</span> HashMap&lt;LazyMarker, DelegatingMarker&gt;();
<a name="l00052"></a>00052                 <span class="keyword">this</span>.createdMarkers = <span class="keyword">new</span> HashMap&lt;com.google.android.gms.maps.model.Marker, <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a>&gt;();
<a name="l00053"></a>00053         }
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#250b0607424e481d0f0eb6fd8f81644e">00055</a>         <span class="keyword">public</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#250b0607424e481d0f0eb6fd8f81644e">addMarker</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html">MarkerOptions</a> markerOptions) {
<a name="l00056"></a>00056                 <span class="keywordtype">boolean</span> visible = markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#79bd4a50bb606701e34a81335f0c03bc">isVisible</a>();
<a name="l00057"></a>00057                 markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#b2e7e5dfcce186331fc91142980e20c5">visible</a>(<span class="keyword">false</span>);
<a name="l00058"></a>00058                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#fa10d579836994b0029e4976902368e2">createMarker</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5c9ad3ca7b75265bd0026daff0a773a">convertToReal</a>(markerOptions));
<a name="l00059"></a>00059                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#d7146e6b6dab3f9ea96a166d9f646853">setExtendedOptions</a>(marker, markerOptions);
<a name="l00060"></a>00060                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#12eebb83253b2da4c02d4600a316c090">onAdd</a>(marker);
<a name="l00061"></a>00061                 marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#86c1aa46c0f131f60715112dc869ef56">setVisible</a>(visible);
<a name="l00062"></a>00062                 markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#b2e7e5dfcce186331fc91142980e20c5">visible</a>(visible);
<a name="l00063"></a>00063                 <span class="keywordflow">return</span> marker;
<a name="l00064"></a>00064         }
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5c9ad3ca7b75265bd0026daff0a773a">00066</a>         <span class="keyword">private</span> com.google.android.gms.maps.model.MarkerOptions <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5c9ad3ca7b75265bd0026daff0a773a">convertToReal</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html">MarkerOptions</a> markerOptions) {
<a name="l00067"></a>00067                 com.google.android.gms.maps.model.MarkerOptions real = <span class="keyword">new</span> com.google.android.gms.maps.model.MarkerOptions();
<a name="l00068"></a>00068                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#129fd2938b14b34945062a65dee7c0b4">anchor</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#9368b1c30ad4cb29439c71b411af52e3">getAnchorU</a>(), markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#54b0edaa94790ac9eca63d66580fd6c3">getAnchorV</a>());
<a name="l00069"></a>00069                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#5a2c4c81cb43a0b682032d57a5a5e2b5">draggable</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#a28d796c436af293d5b572adf198c1b7">isDraggable</a>());
<a name="l00070"></a>00070                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#9fea01bdd34a0f9d9c0e687506cb3a55">icon</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#9c05188afd3c18b9c7ec61db201caa12">getIcon</a>());
<a name="l00071"></a>00071                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#a4c43185e71c265a15810facfd7c0b9b">position</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#2e890e68a40b03be9ccef9ee2b280235">getPosition</a>());
<a name="l00072"></a>00072                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#f1b7b7c063dc2c320011fe79ff42804a">snippet</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#40153bca583ef27472409415193c1ce3">getSnippet</a>());
<a name="l00073"></a>00073                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#114bdeb06b7a6f74d1d26b5d2fbc9367">title</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#a6578640b1f4c1eddab08fce95df2276">getTitle</a>());
<a name="l00074"></a>00074                 real.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#b2e7e5dfcce186331fc91142980e20c5">visible</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#79bd4a50bb606701e34a81335f0c03bc">isVisible</a>());
<a name="l00075"></a>00075                 <span class="keywordflow">return</span> real;
<a name="l00076"></a>00076         }
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#d7146e6b6dab3f9ea96a166d9f646853">00078</a>         <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#d7146e6b6dab3f9ea96a166d9f646853">setExtendedOptions</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker, <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html">MarkerOptions</a> markerOptions) {
<a name="l00079"></a>00079                 marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#035323ae0cb3fbe56612deacdb1f6a8a">setClusterGroup</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#d33c07f9faca0ea1367402932077a9f0">getClusterGroup</a>());
<a name="l00080"></a>00080                 marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#629daf5073397da989d1c251ea925edc">setData</a>(markerOptions.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker_options.html#4175cd025eaa391d2ce7997ee1f84c12">getData</a>());
<a name="l00081"></a>00081         }
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#977ea3da3ae7c4e1bc4e17ebaa394dbb">00083</a>         <span class="keyword">public</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#250b0607424e481d0f0eb6fd8f81644e">addMarker</a>(com.google.android.gms.maps.model.MarkerOptions markerOptions) {
<a name="l00084"></a>00084                 <span class="keywordtype">boolean</span> visible = markerOptions.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html#24d781a2ac51b1ea15451cd5777cab85">isVisible</a>();
<a name="l00085"></a>00085                 markerOptions.visible(<span class="keyword">false</span>);
<a name="l00086"></a>00086                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#fa10d579836994b0029e4976902368e2">createMarker</a>(markerOptions);
<a name="l00087"></a>00087                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#12eebb83253b2da4c02d4600a316c090">onAdd</a>(marker);
<a name="l00088"></a>00088                 marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#86c1aa46c0f131f60715112dc869ef56">setVisible</a>(visible);
<a name="l00089"></a>00089                 markerOptions.visible(visible);
<a name="l00090"></a>00090                 <span class="keywordflow">return</span> marker;
<a name="l00091"></a>00091         }
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#fa10d579836994b0029e4976902368e2">00093</a>         <span class="keyword">private</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#fa10d579836994b0029e4976902368e2">createMarker</a>(com.google.android.gms.maps.model.MarkerOptions markerOptions) {
<a name="l00094"></a>00094                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a> realMarker = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_i_google_map.html#ad097c2f61ae8e1d3487842e170659eb">getMap</a>(), markerOptions, <span class="keyword">this</span>);
<a name="l00095"></a>00095                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a>(realMarker, <span class="keyword">this</span>);
<a name="l00096"></a>00096                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.put(realMarker, marker);
<a name="l00097"></a>00097                 <span class="keywordflow">return</span> marker;
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#8946175c656cd8aaaf4d51250fdb5e5a">00100</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#8946175c656cd8aaaf4d51250fdb5e5a">clear</a>() {
<a name="l00101"></a>00101                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.clear();
<a name="l00102"></a>00102                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">createdMarkers</a>.clear();
<a name="l00103"></a>00103                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#871a56160f8059aa0fc3858edf317aa2">cleanup</a>();
<a name="l00104"></a>00104         }
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#2abbabcb5fddbb2f15144372e8e09916">00106</a>         <span class="keyword">public</span> List&lt;Marker&gt; <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#2abbabcb5fddbb2f15144372e8e09916">getDisplayedMarkers</a>() {
<a name="l00107"></a>00107                 List&lt;Marker&gt; displayedMarkers = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#bc03ce9c3b706ae27c4b00656aaa8bc9">getDisplayedMarkers</a>();
<a name="l00108"></a>00108                 <span class="keywordflow">if</span> (displayedMarkers == null) {
<a name="l00109"></a>00109                         displayedMarkers = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#5e86a901f5a296c4e883c2ff58ea2e95">getMarkers</a>();
<a name="l00110"></a>00110                         Iterator&lt;Marker&gt; iterator = displayedMarkers.iterator();
<a name="l00111"></a>00111                         <span class="keywordflow">while</span> (iterator.hasNext()) {
<a name="l00112"></a>00112                                 <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> m = iterator.next();
<a name="l00113"></a>00113                                 <span class="keywordflow">if</span> (!m.isVisible()) {
<a name="l00114"></a>00114                                         iterator.remove();
<a name="l00115"></a>00115                                 }
<a name="l00116"></a>00116                         }
<a name="l00117"></a>00117                 }
<a name="l00118"></a>00118                 <span class="keywordflow">return</span> displayedMarkers;
<a name="l00119"></a>00119         }
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#5e86a901f5a296c4e883c2ff58ea2e95">00121</a>         <span class="keyword">public</span> List&lt;Marker&gt; <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#5e86a901f5a296c4e883c2ff58ea2e95">getMarkers</a>() {
<a name="l00122"></a>00122                 <span class="keywordflow">return</span> <span class="keyword">new</span> ArrayList&lt;Marker&gt;(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.values());
<a name="l00123"></a>00123         }
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3e5c8b2456d8e26ae6e0a6514bc2fa51">00125</a>         <span class="keyword">public</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3e5c8b2456d8e26ae6e0a6514bc2fa51">getMarkerShowingInfoWindow</a>() {
<a name="l00126"></a>00126                 <span class="keywordflow">if</span> (<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">markerShowingInfoWindow</a> != null &amp;&amp; !<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">markerShowingInfoWindow</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html#3fc6eda22f1dc144240daf99484bdc76">isInfoWindowShown</a>()) {
<a name="l00127"></a>00127                         <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">markerShowingInfoWindow</a> = null;
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129                 <span class="keywordflow">return</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#dc42edf2adc152a72f1d167124c7843d">markerShowingInfoWindow</a>;
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#01c98448ea25e6ed127d36ef20226ffd">00132</a>         <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#01c98448ea25e6ed127d36ef20226ffd">getMinZoomLevelNotClustered</a>(<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> marker) {
<a name="l00133"></a>00133                 <span class="keywordflow">return</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#a804bc77a6b085669395a49053ae1d2a">getMinZoomLevelNotClustered</a>(marker);
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#0ebb53415cdfd0fee7ba73c758c1e258">00136</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#0ebb53415cdfd0fee7ba73c758c1e258">onAnimateMarkerPosition</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker, LatLng target, <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_animation_settings.html">AnimationSettings</a> settings, <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a>.AnimationCallback callback) {
<a name="l00137"></a>00137                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html#0993295d5d55ac0da6caeb6d8e120075">cancelAnimation</a>(marker, <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a>.AnimationCallback.CancelReason.ANIMATE_POSITION);
<a name="l00138"></a>00138                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html#0ffa55cf0a00e6252c50d21c42ce769f">animate</a>(marker, marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#7b089abfe7ef169f4b1d738718e4833b">getPosition</a>(), target, SystemClock.uptimeMillis(), settings, callback);
<a name="l00139"></a>00139         }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#da6356d0f5ead8d1b16975f229309677">00141</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#da6356d0f5ead8d1b16975f229309677">onCameraChange</a>(CameraPosition cameraPosition) {
<a name="l00142"></a>00142                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#fa961ee7cf14108e3675094cd44933ae">onCameraChange</a>(cameraPosition);
<a name="l00143"></a>00143         }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#4ed6f13d5f182731bd490ad4d3ffd1d9">00145</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#4ed6f13d5f182731bd490ad4d3ffd1d9">onClusterGroupChange</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00146"></a>00146                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#cf4218eb2f8023ebedf81cab422dd5c4">onClusterGroupChange</a>(marker);
<a name="l00147"></a>00147         }
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3fdc0a915d57294ea456e0342f6925d3">00149</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3fdc0a915d57294ea456e0342f6925d3">onDragStart</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00150"></a>00150                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html#0993295d5d55ac0da6caeb6d8e120075">cancelAnimation</a>(marker, <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a>.AnimationCallback.CancelReason.DRAG_START);
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#ed65817fe6567ec7a6dbeeb01cd02eb1">00153</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#ed65817fe6567ec7a6dbeeb01cd02eb1">onPositionChange</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00154"></a>00154                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#eeb0a34e0732fb686554238598072bdb">onPositionChange</a>(marker);
<a name="l00155"></a>00155                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html#0993295d5d55ac0da6caeb6d8e120075">cancelAnimation</a>(marker, <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a>.AnimationCallback.CancelReason.SET_POSITION);
<a name="l00156"></a>00156         }
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#10f36c3b2d7b5bed780c33581fa84d04">00158</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#10f36c3b2d7b5bed780c33581fa84d04">onPositionDuringAnimationChange</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00159"></a>00159                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#eeb0a34e0732fb686554238598072bdb">onPositionChange</a>(marker);
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#b8cb86ee2fa2f0c35c3f1badfce83fc8">00162</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#b8cb86ee2fa2f0c35c3f1badfce83fc8">onRemove</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00163"></a>00163                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.remove(marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#6b97b82e50de85d701661fd74e07a0b7">getReal</a>());
<a name="l00164"></a>00164                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">createdMarkers</a>.remove(marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html#6b97b82e50de85d701661fd74e07a0b7">getReal</a>().<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html#24982d3f9635217694ec64b378d67b90">getMarker</a>());
<a name="l00165"></a>00165                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#c2efb5d1e4abf895de63625c5bda198c">onRemove</a>(marker);
<a name="l00166"></a>00166                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6455ccf5b438954cb822285509a2e10f">markerAnimator</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_animator.html#0993295d5d55ac0da6caeb6d8e120075">cancelAnimation</a>(marker, <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a>.AnimationCallback.CancelReason.REMOVE);
<a name="l00167"></a>00167         }
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#15b74a2d26da0f5ddfee0d5fd3ca3b56">00169</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#15b74a2d26da0f5ddfee0d5fd3ca3b56">onShowInfoWindow</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker) {
<a name="l00170"></a>00170                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#9e37490bfe2a19b36bf5c00ecac1f20d">onShowInfoWindow</a>(marker);
<a name="l00171"></a>00171         }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#d2524a6d778516799f281600d77ca4f0">00173</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#d2524a6d778516799f281600d77ca4f0">onVisibilityChangeRequest</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> marker, <span class="keywordtype">boolean</span> visible) {
<a name="l00174"></a>00174                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#6cb0f323f52b8c49436feff5c49122e8">onVisibilityChangeRequest</a>(marker, visible);
<a name="l00175"></a>00175         }
<a name="l00176"></a>00176 
<a name="l00177"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#69aa6885583947e37e9664a14afd6fdf">00177</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#69aa6885583947e37e9664a14afd6fdf">setClustering</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html">ClusteringSettings</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a>) {
<a name="l00178"></a>00178                 <span class="keywordflow">if</span> (<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a> == null) {
<a name="l00179"></a>00179                         <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html">ClusteringSettings</a>().<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html#b19d7d1d0cf929b922058f020d343ce6">enabled</a>(<span class="keyword">false</span>);
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181                 <span class="keywordflow">if</span> (!<span class="keyword">this</span>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a>.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_clustering_settings.html#cac3ca118b551371eb747f510bd40fd9">equals</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#78bb745970b67af636112c9fc403e782">clusteringSettings</a>)) {
<a name="l00182"></a>00182                         <span class="keyword">this</span>.clusteringSettings = clusteringSettings;
<a name="l00183"></a>00183                         <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#871a56160f8059aa0fc3858edf317aa2">cleanup</a>();
<a name="l00184"></a>00184                         ArrayList&lt;DelegatingMarker&gt; list = <span class="keyword">new</span> ArrayList&lt;DelegatingMarker&gt;(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.values());
<a name="l00185"></a>00185                         <span class="keywordflow">if</span> (clusteringSettings.isEnabled()) {
<a name="l00186"></a>00186                                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_grid_clustering_strategy.html">GridClusteringStrategy</a>(clusteringSettings, <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>, list, <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_cluster_refresher.html">ClusterRefresher</a>());
<a name="l00187"></a>00187                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (clusteringSettings.isAddMarkersDynamically()) {
<a name="l00188"></a>00188                                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_dynamic_no_clustering_strategy.html">DynamicNoClusteringStrategy</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#6957ef663e43115deff36bb77745d997">factory</a>, list);
<a name="l00189"></a>00189                         } <span class="keywordflow">else</span> {
<a name="l00190"></a>00190                                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a> = <span class="keyword">new</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_no_clustering_strategy.html">NoClusteringStrategy</a>(list);
<a name="l00191"></a>00191                         }
<a name="l00192"></a>00192                 }
<a name="l00193"></a>00193         }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5b10d48fb0e512829819b015adbb635">00195</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5b10d48fb0e512829819b015adbb635">setMarkerShowingInfoWindow</a>(<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> marker) {
<a name="l00196"></a>00196                 <span class="keyword">this</span>.markerShowingInfoWindow = marker;
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         @Override
<a name="l00200"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#8a5d48f98343e454466f468aba04cab1">00200</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#8a5d48f98343e454466f468aba04cab1">onMarkerCreate</a>(<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a> marker) {
<a name="l00201"></a>00201                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">createdMarkers</a>.put(marker.<a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html#24982d3f9635217694ec64b378d67b90">getMarker</a>(), marker);
<a name="l00202"></a>00202         }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#0bd82fd40e83db8ccaa0bac15f91e0a5">00204</a>         <span class="keyword">public</span> <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#0bd82fd40e83db8ccaa0bac15f91e0a5">map</a>(com.google.android.gms.maps.model.Marker marker) {
<a name="l00205"></a>00205                 <a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1_marker.html">Marker</a> cluster = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#f62a95571c043fe5e2651cba7ce4d78d">clusteringStrategy</a>.<a class="code" href="interfacepl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_clustering_strategy.html#d6259a311f517223b8a5bbbabe849286">map</a>(marker);
<a name="l00206"></a>00206                 <span class="keywordflow">if</span> (cluster != null) {
<a name="l00207"></a>00207                         <span class="keywordflow">return</span> cluster;
<a name="l00208"></a>00208                 }
<a name="l00209"></a>00209                 <span class="keywordflow">return</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3fa04df630486e820d22526c23495300">mapToDelegatingMarker</a>(marker);
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3fa04df630486e820d22526c23495300">00212</a>         <span class="keyword">public</span> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#3fa04df630486e820d22526c23495300">mapToDelegatingMarker</a>(com.google.android.gms.maps.model.Marker marker) {
<a name="l00213"></a>00213                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1lazy_1_1_lazy_marker.html">LazyMarker</a> lazy = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#700ae0b2d8cda49634d7d7290cfd8961">createdMarkers</a>.get(marker);
<a name="l00214"></a>00214                 <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_delegating_marker.html">DelegatingMarker</a> delegating = <a class="code" href="classpl_1_1mg6_1_1android_1_1maps_1_1extensions_1_1impl_1_1_marker_manager.html#a5a73d808ee4f2d9f00b8922b1de43b6">markers</a>.get(lazy);
<a name="l00215"></a>00215                 <span class="keywordflow">return</span> delegating;
<a name="l00216"></a>00216         }
<a name="l00217"></a>00217 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Dec 7 18:18:06 2013 for PlacesandPlaces by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7-20061004 </small></address>
</body>
</html>
